<div class="col-inner w-75">
    <h3>User Profile Edit</h3>
    <div class="card border-0 box-shadow">
        <div class="card-body">
            <form  autocomplete="off" [formGroup]="profileFrom" (ngSubmit)="onSubmit()">  
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>First Name</label>   
                        <input type="text" name="first_name" class="form-control" formControlName="first_name" /> 
                    
                        <div *ngIf="submitted && !profileFrom.get('first_name')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('first_name')?.errors?.['required']">First name required</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Last Name</label>   
                        <input type="text" name="last_name"  class="form-control" formControlName="last_name" /> 
                   
                        <div *ngIf="submitted && !profileFrom.get('last_name')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('last_name')?.errors?.['required']">Last name required</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Username</label>   
                        <input type="text" name="username"  class="form-control" formControlName="username" /> 
                    
                        <div *ngIf="submitted && !profileFrom.get('username')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('username')?.errors?.['required']">User name required</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Email</label>   
                        <input type="text" name="email"  class="form-control" formControlName="email" /> 
                    
                        <div *ngIf="submitted && !profileFrom.get('email')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('email')?.errors?.['required']">
                        Email required </small>
                        <small class="text-danger" *ngIf="profileFrom.get('email')?.errors?.['pattern']">
                            Invaild email address </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Password</label>   
                        <input type="password" name="password"  class="form-control" formControlName="password" />
                        <div *ngIf="submitted && !profileFrom.get('password')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('password')?.errors?.['required']">Password required</small>
                            <small class="text-danger" *ngIf="profileFrom.get('password')?.errors?.['minlength']"> Min 8 digits </small>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Confirm Password</label>   
                        <input type="password" name="password_confirmation"  class="form-control" formControlName="password_confirmation" /> 
                        <div *ngIf="submitted && !profileFrom.get('password_confirmation')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('password_confirmation')?.errors?.['required']">
                                Enter confirm password </small>
                            <small class="text-danger" *ngIf="profileFrom.get('password_confirmation')?.errors?.['minlength']"> Min 8 digits </small>
                            <small class="text-danger" *ngIf="profileFrom.get('password_confirmation')?.errors?.['customError']"> Confirm password mismatch</small>
                        </div> 
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Team</label> 
                        <select name="team_id" formControlName="team_id" class="form-control">
                            <option value="">Select</option>
                            <option value="1">Team 1</option>
                        </select>  
                        <div *ngIf="submitted && !profileFrom.get('team_id')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('team_id')?.errors?.['required']">
                                Team name password </small>
                        </div> 
                    </div>
                    
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Role</label> 
                        <select name="role_id" formControlName="role_id" class="form-control">
                            <option value="">Select</option>
                            <option value="2">Team Leader</option>
                            <option value="3">Operations Admin</option>
                            <option value="4">Operations Manager</option>
                        </select>
                        <div *ngIf="submitted && !profileFrom.get('role_id')?.valid">
                            <small class="text-danger" *ngIf="profileFrom.get('role_id')?.errors?.['required']">
                                Role name password </small>
                        </div>  
                    </div>
                    
                    
                </div> 

                <div class="col-md-12">
                    <div class="form-group">
                        <label>Profile Picture</label><br>   
                        <label><strong>Add a photo of you / your company</strong></label>   
                        
                      
                        <input type="file" name="profile_pic" formControlName="profile_pic" accept=".png, .jpg, .jpeg" (change)="onFileChanged($event)"/>
                                    
                        <div class="mt-3 text-center" *ngIf="choosedimg">
                            <img src="{{choosedimg}}" alt="" style="max-width: 100px; max-height: 100px;">
                        </div> 
                    </div>
                </div>
                <div class="col-md-12">
                    <button type="submit" class="btn btn-primary border-0 pl-4 pr-4 pt-2 pb-2 mr-2">Update</button>
                    <a routerLink="/user-management" type="button" class="btn btn-secondary">Cancel</a>
                </div>
            </div>
        </form>
        </div>
    </div>
</div>